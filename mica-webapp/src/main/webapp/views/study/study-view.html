<div>

  <h2 translate="study.details">Study details</h2>

  <a ng-href="#/study/{{study.id}}/edit" class="btn btn-primary pull-right">
    <i class="fa fa-pencil-square-o"></i> <span translate="edit">Edit</span>
  </a>


  <tabset>
    <tab ng-repeat="tab in tabs" heading="{{tab.lang}}" active="tab.active" disabled="tab.disabled">

      <div class="table-responsive">


        <h3 translate="study.general-info">General Information</h3>

        <table class="table table-striped">
          <tbody>
          <tr ng-show="study.name.length">
            <td translate="study.name">Name</td>
            <td>
              <localized value="study.name" lang="tab.lang"></localized>
            </td>
          </tr>
          <tr ng-show="study.acronym.length">
            <td translate="study.acronym">Acronym</td>
            <td>
              <localized value="study.acronym" lang="tab.lang"></localized>
            </td>
          </tr>
          <tr ng-show="study.objectives.length">
            <td translate="study.objectives">Objectives</td>
            <td>
              <localized value="study.objectives" lang="tab.lang"></localized>
            </td>
          </tr>
          <tr ng-show="study.website">
            <td translate="study.website">Website</td>
            <td>
              <a href="{{study.website}}" target="_blank">{{study.website}}</a>
            </td>
          </tr>
          <tr ng-show="study.investigators.length">
            <td translate="study.investigators">Investigators</td>
            <td>
              <ul class="list-unstyled">
                <li ng-repeat="investigator in study.investigators">
                  {{investigator.title}} {{investigator.firstName}} {{investigator.lastName}}
                  <span ng-show="investigator.institution.name.length">
                    (<localized value="investigator.institution.name" lang="tab.lang"></localized>)
                  </span>
                </li>
              </ul>
            </td>
          </tr>
          <tr ng-show="study.contacts.length">
            <td translate="study.contacts">Contacts</td>
            <td>
              <ul class="list-unstyled">
                <li ng-repeat="contact in study.contacts">
                  {{contact.title}} {{contact.firstName}} {{contact.lastName}}
                  <span ng-show="contact.institution.name.length">
                    (<localized value="contact.institution.name" lang="tab.lang"></localized>)
                  </span>
                </li>
              </ul>
            </td>
          </tr>
          <tr ng-show="study.startYear">
            <td translate="study.start-year">Start Year</td>
            <td> {{study.startYear}}</td>
          </tr>
          <tr ng-show="study.endYear">
            <td translate="study.end-year">End Year</td>
            <td> {{study.endYear}}</td>
          </tr>
          <tr ng-show="study.networks.length">
            <td translate="networks">Networks</td>
            <td>
              {{study.networks}}
            </td>
          </tr>
          </tbody>
        </table>

        <h3 translate="study.general-design" ng-show="study.methods">
          General Design
        </h3>
        <table class="table table-striped" ng-show="study.methods">
          <tbody>
          <tr ng-show="study.methods.designs.length || study.methods.otherDesign.length">
            <td translate="study.design">Study Design</td>
            <td>
              <ul class="list-unstyled">
                <li ng-repeat="design in study.methods.designs">
                  <span translate="study.design.{{design}}">{{design}}</span>
                </li>
                <li ng-show="study.methods.otherDesign.length">
                  <localized value="study.methods.otherDesign" lang="tab.lang"></localized>
                </li>
              </ul>
            </td>
          </tr>
          <tr ng-show="study.methods.followUpInfo.length">
            <td translate="study.follow-up">Follow Up</td>
            <td>
              <localized value="study.methods.followUpInfo" lang="tab.lang"></localized>
            </td>
          </tr>
          <tr ng-show="study.methods.recruitments.length || study.methods.otherRecruitment.length">
            <td translate="study.recruitment-target">Recruitment target</td>
            <td>
              <ul class="list-unstyled">
                <li ng-repeat="recruitment in study.methods.recruitments">
                  <span translate="study.recruitment.{{recruitment}}">{{recruitment}}</span>
                </li>
                <li ng-show="study.methods.otherRecruitment.length">
                  <localized value="study.methods.otherRecruitment" lang="tab.lang"></localized>
                </li>
              </ul>
            </td>
          </tr>
          <tr ng-show="study.numberOfParticipants.participant">
            <td translate="study.target-number.participants">Target number of participants</td>
            <td>
              {{study.numberOfParticipants.participant.number | number}}
              <span ng-show="study.numberOfParticipants.participant.noLimit" translate="study.target-number.no-limit">
                No Limit
              </span>
            </td>
          </tr>
          <tr ng-show="study.numberOfParticipants.sample">
            <td translate="study.target-number.sample">Target number of participants with biological samples</td>
            <td>
              {{study.numberOfParticipants.sample.number | number}}
              <span ng-show="study.numberOfParticipants.sample.noLimit" translate="study.target-number.no-limit">
                No Limit
              </span>
            </td>
          </tr>
          <tr ng-show="study.numberOfParticipants.info.length">
            <td translate="study.target-number.suppl-info">
              Supplementary information about target number of participants
            </td>
            <td>
              <localized value="study.numberOfParticipants.info" lang="tab.lang"></localized>
            </td>
          </tr>
          <tr ng-show="study.methods.info.length">
            <td translate="suppl-info">Supplementary information</td>
            <td>
              <localized value="study.methods.info" lang="tab.lang"></localized>
            </td>
          </tr>
          </tbody>
        </table>

        <h3 translate="study.access.label" ng-show="study.access.length || study.otherAccess.length">
          Access
        </h3>
        <table class="table table-striped" ng-show="study.access.length || study.otherAccess.length">
          <tbody>
          <tr>
            <td translate="study.access.for">
              Access to external researchers or third parties provided or foreseen for
            </td>
            <td>
              <ul class="list-unstyled">
                <li ng-repeat="access in study.access">
                  <span translate="study.access.{{access}}">{{access}}</span>
                </li>
                <li ng-show="study.otherAccess.length">
                  <localized value="study.otherAccess" lang="tab.lang"></localized>
                </li>
              </ul>
            </td>
          </tr>
          </tbody>
        </table>

        <h3 translate="study.marker-paper" ng-show="study.markerPaper || study.pubmedId">
          Marker Paper
        </h3>
        <table class="table table-striped" ng-show="study.markerPaper || study.pubmedId">
          <tbody>
          <tr ng-show="study.markerPaper">
            <td translate="study.marker-paper">Marker Paper</td>
            <td>{{study.markerPaper}}</td>
          </tr>
          <tr ng-show="study.pubmedId">
            <td translate="study.pubmed-id">Pubmed ID</td>
            <td>
              <a ng-href="http://www.ncbi.nlm.nih.gov/pubmed/{{study.pubmedId}}" target="_blank">
                PUBMED {{study.pubmedId}}
              </a>
            </td>
          </tr>
          </tbody>
        </table>

        <h3 translate="suppl-info" ng-show="study.info.length">
          Supplementary Information
        </h3>
        <table class="table table-striped" ng-show="study.info.length">
          <tbody>
          <tr>
            <td>
              <localized value="study.info" lang="tab.lang"></localized>
            </td>
          </tr>
          </tbody>
        </table>

        <h3 translate="study.timeline" ng-show="study.populations.length">Study Timeline</h3>


        <h3 translate="study.populations" ng-show="study.populations.length">Populations</h3>
        <div ng-repeat="population in study.populations">
          <div ng-include="'views/study/population/view.html'"></div>
        </div>

        <h3 translate="study.authorization.label" ng-show="study.specificAuthorization || study.maelstromAuthorization">
          Authorization
        </h3>
        <table class="table table-striped" ng-show="study.specificAuthorization || study.maelstromAuthorization">
          <tbody>
          <tr ng-show="study.maelstromAuthorization">
            <td translate="study.authorization.maelstrom">
              Authorization from contributors to the Maelstrom catalogues
            </td>
            <td>
              <span
                  translate="study.authorization.{{study.maelstromAuthorization.authorized ? 'authorized' : 'not-authorized'}}">
                {{study.maelstromAuthorization.authorized ? 'authorized' : 'not-authorized'}}
              </span>
              <span ng-show="study.maelstromAuthorization.authorizer">
                <span translate="by">By</span> {{study.maelstromAuthorization.authorizer}}
              </span>
              <span ng-show="study.maelstromAuthorization.date">
                <span translate="on">On</span> {{study.maelstromAuthorization.date}}
              </span>
            </td>
          </tr>
          <tr ng-show="study.specificAuthorization">
            <td translate="study.authorization.specific">
              Authorization from contributors to the [specific network] catalogues
            </td>
            <td>
              <span
                  translate="study.authorization.{{study.specificAuthorization.authorized ? 'authorized' : 'not-authorized'}}">
                {{study.maelstromAuthorization.authorized ? 'authorized' : 'not-authorized'}}
              </span>
              <span ng-show="study.specificAuthorization.authorizer">
                <span translate="by">By</span> {{study.specificAuthorization.authorizer}}
              </span>
              <span ng-show="study.specificAuthorization.date">
                <span translate="on">On</span> {{study.specificAuthorization.date}}
              </span>
            </td>
          </tr>
          </tbody>
        </table>

      </div>

    </tab>
  </tabset>


</div>
