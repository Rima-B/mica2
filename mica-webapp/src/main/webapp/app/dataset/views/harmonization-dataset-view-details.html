<!--
  ~ Copyright (c) 2014 OBiBa. All rights reserved.
  ~
  ~ This program and the accompanying materials
  ~ are made available under the terms of the GNU Public License v3.0.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div class="voffset4">
  <uib-tabset>
    <uib-tab ng-repeat="tab in tabs" heading="{{'language.' + tab.lang | translate}}" active="tab.active" disable="tab.disable">
      <div class="row">
        <div class="col-md-6">
          <h3 translate>dataset.general-info</h3>
          <table class="table table-bordered table-striped">
            <tbody>
            <tr>
              <th translate>dataset.name</th>
              <td>
                <localized value="dataset.name" lang="tab.lang"></localized>
              </td>
            </tr>
            <tr>
              <th translate>dataset.acronym</th>
              <td>
                <localized value="dataset.acronym" lang="tab.lang"></localized>
              </td>
            </tr>
            <tr>
              <th translate>dataset.description</th>
              <td>
                <localized value="dataset.description" lang="tab.lang"></localized>
              </td>
            </tr>
            <tr>
              <th translate>dataset.entity-type</th>
              <td>{{dataset.entityType}}</td>
            </tr>
            </tbody>
          </table>
        </div>
        <div class="col-md-6">
          <h3 translate ng-show="dataset['obiba.mica.HarmonizationDatasetDto.type']">dataset.data-schema.title</h3>
          <table class="table table-bordered table-striped">
            <tbody>
            <tr>
              <th translate>dataset.project</th>
              <td>
                <a ng-href="{{opal + '/ui/index.html#!project;name=' + datasetProject}}" target="_blank">{{datasetProject}}</a>
              </td>
            </tr>
            <tr>
              <th translate>dataset.table</th>
              <td>
                <a ng-href="{{opal + '/ui/index.html#!project;name=' + datasetProject + ';tab=TABLES;path=' + datasetProject + '.' + datasetTable}}" target="_blank">{{datasetTable}}</a>
              </td>
            </tr>
            </tbody>
          </table>
          <div ng-if="micaConfig.isNetworkEnabled">
            <h3 translate ng-show="datasetNetwork">dataset.network.title</h3>
            <table class="table table-bordered table-striped" ng-show="datasetNetwork">
              <tbody>
              <tr>
                <th translate>dataset.network.title</th>
                <td>
                  <a ng-href="#/network/{{datasetNetwork}}">
                    {{datasetNetwork}}
                  </a>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <h3 translate ng-show="dataset['obiba.mica.HarmonizationDatasetDto.type']">dataset.study-tables.title</h3>
      <div class="table-responsive">
      <table class="table table-bordered table-striped" ng-show="dataset['obiba.mica.HarmonizationDatasetDto.type']">
        <thead>
        <tr>
          <th translate>study.label</th>
          <th translate>study.population</th>
          <th translate>study.data-collection-event</th>
          <th translate>dataset.project</th>
          <th translate>dataset.table</th>
          <th translate>dataset.table-name</th>
          <th translate>dataset.table-description</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="studyTable in dataset['obiba.mica.HarmonizationDatasetDto.type'].studyTables">
          <td>
            <a ng-href="#/study/{{studyTable.studyId}}">
              {{studyTable.studyId}}
            </a>
          </td>
          <td>
            {{studyTable.populationId}}
          </td>
          <td>
            {{studyTable.dataCollectionEventId}}
          </td>
          <td>
            {{studyTable.project}}
          </td>
          <td>
            {{studyTable.table}}
          </td>
          <td>
            <localized value="studyTable.name" lang="tab.lang"></localized>
          </td>
          <td>
            <localized value="studyTable.description" lang="tab.lang"></localized>
          </td>
        </tr>
        </tbody>
      </table>
      </div>
    </uib-tab>
  </uib-tabset>
</div>
