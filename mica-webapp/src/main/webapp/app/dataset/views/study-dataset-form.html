<!--
  ~ Copyright (c) 2014 OBiBa. All rights reserved.
  ~
  ~ This program and the accompanying materials
  ~ are made available under the terms of the GNU Public License v3.0.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div>

  <h2>
    <ol class="mica-breadcrumb">
      <li><a href="/#/study-dataset" translate>study-datasets</a></li>
      <li class="active">
        <span ng-if="dataset.id">{{dataset.id}}</span>
        <span ng-if="!dataset.id" translate>new-study-dataset</span>
      </li>
    </ol>
  </h2>

  <div ng-if="dataset.id" class="tabs-menu tabs-left">
    <ul class="nav nav-tabs">
      <li class="active"><a href="#/study-dataset/{{dataset.id}}" title="{{'view' | translate}}"><i
        class="fa fa-eye"></i></a>
      </li>
      <li><a href="#/study-dataset/{{dataset.id}}/revisions" title="{{'revisions' | translate}}"><i
        class="fa fa-list-ol"></i></a>
      </li>
      <li><a href="#/study-dataset/{{dataset.id}}/files" title="{{'files' | translate}}"><i class="fa fa-file"></i></a>
      </li>
    </ul>
  </div>

  <h3 ng-if="dataset.id"><a ng-click="cancel()">
    <i class="fa fa-chevron-left"> </i>
  </a> {{'edit' | translate}}</h3>

  <form name="form" role="form" novalidate
      class="ng-scope ng-invalid ng-invalid-required ng-dirty" ng-submit="save()">

    <p class="alert alert-danger" ng-show="form.saveAttempted && form.$invalid" translate="">fix-error</p>

    <tabset>
      <tab ng-repeat="tab in tabs" heading="{{'language.' + tab.lang | translate}}" active="tab.active"
          disabled="tab.disabled">

        <div class="row">
          <div class="col-md-6">
            <h3 translate>dataset.general-info</h3>
            <div ng-include="'app/dataset/views/dataset-general-info-form.html'"></div>
            <label translate>attributes</label>
            <attributes-editable-list attributes="dataset.attributes"></attributes-editable-list>
          </div>
          <div class="col-md-6">
            <h3 translate>dataset.study-table.title</h3>
            <div ng-include="'app/dataset/views/dataset-study-table-form.html'"></div>
          </div>
        </div>

      </tab>
    </tabset>

    <button type="button" class="btn btn-default" ng-click="cancel()">
      <span translate>cancel</span>
    </button>

    <button type="submit" class="btn btn-primary">
      <span translate>save</span>
    </button>

  </form>

</div>
