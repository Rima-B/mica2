<div>

  <h2>
    <ol class="mica-breadcrumb">
      <li><a href="/#/admin" translate>global.menu.admin</a></li>
      <li class="active" translate>general</li>
    </ol>
  </h2>

  <form name="form" role="form" novalidate ng-submit="save()">

    <div class="row">
      <div class="col-md-6">
        <h3 translate>config.serverIdentification</h3>

        <div form-input name="name" model="micaConfig.name" label="config.name" required="true"
          help="config.name-help"></div>

        <div form-input name="publicUrl" model="micaConfig.publicUrl" label="config.publicUrl"
          help="config.publicUrl-help"></div>

        <h3 translate>config.dataSource</h3>

        <div form-input name="opal" model="micaConfig.opal" label="config.opal" help="config.opal-help"
          required="true"></div>

        <div form-input name="threshold" model="micaConfig.privacy-threshold" label="config.privacy-threshold"
          type="number"
          required="false"
          help="config.privacy-threshold-help"></div>
      </div>

      <div class="col-md-6">
        <h3 translate>config.contentEdition</h3>

        <div class="form-group"
          ng-class="{'has-error': (form.languages.$dirty || form.saveAttempted) && form.languages.$invalid}">
          <label for="languages" class="control-label">
            <span translate>config.languages</span> *
          </label>
          <select chosen multiple id="languages" name="languages" ng-model="micaConfig.languages"
            ng-options="code as name for (code, name) in availableLanguages" class="chosen-select" required>
          </select>
          <p class="input-error" ng-show="form.languages.$dirty && form.languages.$invalid">
            <span ng-show="form.languages.$error.server">{{ errors.name }}</span>
            <span ng-show="form.languages.$error.required" translate>required</span>
          </p>
          <p class="help-block" translate>config.languages-help</p>
        </div>

        <div form-input name="defaultCharSet" model="micaConfig.defaultCharSet" label="config.defaultCharSet"
          required="true"></div>

        <h3 translate>config.access</h3>

        <div form-checkbox min="0" name="openAccess" model="micaConfig.openAccess" label="config.openAccess"
          help="config.openAccess-help"></div>

        <h3 translate>config.notifications.title</h3>

        <p class="help-block" translate>config.notifications.help</p>

        <div form-checkbox name="isFsNotificationsEnabled" model="micaConfig.isFsNotificationsEnabled"
          label="config.notifications.file-system"
          help="config.notifications.file-system-help"></div>
        <div form-input name="fsNotificationsSubject" model="micaConfig.fsNotificationsSubject"
          label="config.notifications.file-system-subject"
          help="config.notifications.file-system-subject-help"
          placeholder="[${organization}] ${documentId}: file status has changed"
          required="false" disabled="!micaConfig.isFsNotificationsEnabled"></div>
      </div>

    </div>

    <a href="#/admin/general" class="btn btn-default">
      <span translate>cancel</span>
    </a>

    <button type="submit" class="btn btn-primary">
      <span translate>save</span>
    </button>

  </form>


</div>


